![readme](https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653736311587blob)
<br>

👨‍👩‍👧‍👦도란도란
=============
## 🙌 Introduce Dorandoran
>👨‍👩‍👧‍👧  가족 네트워킹 프로젝트 ⭐️ (FNS)
<br>**가족 단위의 네트워킹 서비스로, 가족 구성원들 간의 소통을 활성화하고 연결할 수 있는 공간을 제공합니다.**

- 🚩가족의 목표를 설정하여 매주 친밀도 미션을 진행할 수 있습니다.
    - (예시: “일주일에 한 번 부모님이랑 통화하기”, “한 달에 한 번 온 가족 식사하기”)
- 부가적으로💞 가족의 사진을 공유하고 관리할 수 있는 갤러리와(댓글, 좋아요 기능 포함), 가족 기념일, 모임, 여행 등 일정을 관리할 수 있는 캘린더 서비스를 제공합니다.
- 음성메시지함을 두어, 🎙가족 간의 따뜻한 잔소리를 녹음하고 기록할 수 있는 서비스도 제공합니다.
- 각각의 기능들에 따라 반응하는 실시간 알림 기능을 제공하고, 구성원들의 접속 상태도 확인할 수 있습니다.

🔔 도란도란은 반응형으로 웹과 모바일 모두 이용 가능한 서비스입니다.<br>
<br><img src="https://www.dorandorans.com/static/media/Web_01.29cbf948c7a423b343f6.png">

[도란도란 바로가기](https://dorandorans.com/)

* * *

## 📣 Project
### 📆 Project Timeline
- 총 기간: 2022/04/22 ~ 2022/06/03
- 배포: 2022/05/26

### 👨‍💻👩‍💻 FE Team
|                                                         [김정태🔰](https://github.com/Jayteeee)                                            |                                                         [이덕행🖌](https://github.com/Deokhaeng)                                                          |                                                                                             
| :----------------------------------------------------------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------------------------------------------------------: |
| <img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653737369229blob" alt="프로필 이미지" width="200px"/> |  <img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653737642793blob" alt="프로필 이미지" width="200px"/> | <img 
|                                                                      `Front-End`                                               |                                                                      `Front-End`                                                                       |              
#### 김정태

`로그인` `회원가입` `CI/CD 세팅 및 배포환경 구축(w/ AWS Route53, Amplify)`
</br>
`캘린더` `음성메시지` `알림` `랜딩페이지`

#### 이덕행

`홈페이지` `전반적인 반응형CSS 구현` `갤러리` `미션페이지`
<br/>
`가족관련기능` `프로필관련기능`

* * *
## ⚙ **Architecture**
<img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653963459549%EA%B7%B8%EB%A6%BC1.jpg" />

* * *

## 🛠 Tech Stack & Platform
### **Tech**
<p>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
<img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white">
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/redux-764ABC?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/axios-007CE2?style=for-the-badge&logo=axios&logoColor=white">
<img src="https://img.shields.io/badge/reactrouterdom-CA4245?style=for-the-badge&logo=reactrouterdom&logoColor=white">
</br>
<img src="https://img.shields.io/badge/styledcomponents-DB7093?style=for-the-badge&logo=styledcomponents&logoColor=white">
<img src="https://img.shields.io/badge/amazonaws-232F3E?style=for-the-badge&logo=amazonaws&logoColor=white">
<img src="https://img.shields.io/badge/amazonamplify-orange?style=for-the-badge&logo=amazonsamplify&logoColor=white"> 
<img src="https://img.shields.io/badge/route53-F7A81B?style=for-the-badge&logo=route53&logoColor=white">
<img src="https://img.shields.io/badge/socketio-blue?style=for-the-badge&logo=socketio&logoColor=white">
<br>
</p>

### **Design**
<p>
<img src="https://img.shields.io/badge/Figma-F24E1E?style=for-the-badge&logo=Figma&logoColor=white"/>
<img src="https://img.shields.io/badge/Adobe Illustrator-yellow?style=for-the-badge&logo=Adobe Illustrator&logoColor=white"/>
</p>

### **Tools**
<p>
<img src="https://img.shields.io/badge/VSCode-007ACC?style=for-the-badge&logo=Visual Studio Code&logoColor=white"/>
<img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white"/>
<img src="https://img.shields.io/badge/Github-181717?style=for-the-badge&logo=github&logoColor=white">
<br>
</p>



* * *

## 📚 Library
|Name|Appliance|Version|
|:---:|:---:|:---:|
|React|리액트|18.0.0|
|Axios|HTTP 클라이언트 라이브러리|0.26.1|
|browser-image-compression|이미지 압축 라이브러리|2.0.0|
|connected-react-router|라우터|6.8.0|
|dayjs|날짜, 시간 출력|1.11.1|
|History|페이지 이동|4.10.1|
|Immer|불변성 유지|9.0.12|
|React-calendar|캘린더|3.7.0|
|React-dom|브라우저 렌더링|17.0.2|
|React-icons|아이콘|4.3.1|
|React-mic|녹음|12.4.6|
|React-redux|상태관리|7.2.8|
|React-router-dom|라우터|5.2.0|
|React-slick|슬라이드|0.28.1|
|Redux|상태 관리|4.1.2|
|Redux-actions|액션 관리|2.6.5|
|Redux-logger|리덕스 미들웨어|3.0.6|
|Redux-thunk|리덕스 미들웨어|2.4.1|
|Slick-carousel|슬라이드|1.8.1|
|Socket.io|실시간알림|4.4.1|
|Socket.io-client|실시간알림|4.4.1|
|Styled-components|CSS in JS|5.3.5|
<!-- |Lodash|Throttle 사용|4.17.21| -->

* * *

## 🔥 Challenges & Trouble Shooting
<details>
<summary><strong>녹음된 음성메시지가 IOS에서 재생되지 않는 문제</strong></summary>
  <br/>
  <ul>
<li><strong>문제상황</strong>
<p>- 녹음된 음성을 인코딩할때 MediaRecorder에서 지원하는 코덱중 대부분 플랫폼에서 사용가능한 vp8 코덱과 해당 코덱으로 만들 수 있는 webm컨테이너를 사용하여 음성을 인코딩하였더니, IOS에서는 재생되지 않는 문제가 발생하였습니다.
<li><strong>원인</strong>
<p>- IOS15부터는 webm audio를 지원하지만 이전 버전은 지원하지 않는다는 사실을 알게되었습니다.
<li><strong>해결방안</strong>
    <br />
    <br />
    <img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653831407598blob" />
    <br />
    <img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653831401208blob" />
<p>- IOS에서 지원하는 포맷이 mp3, wav, ogg 라는 것을 알고 서버에서 s3로 저장할 때 mp3로 컨버팅하여 저장하기로 하였습니다.
<p>- ffmpeg를 이용하여 저장하고자 하였고 클라이언트에서 기존에 보내줬던 blob형태로 파일을 전송할 시 변환되지 않는 이슈가 생겨 file 형태로 전달하였습니다.
<li><strong>결과</strong>
<p>- mp3형태로 저장되어 아이폰에서는 녹음된 음성을 바로 들을 수 없지만 업로드 후 재생시킬 수 있었습니다.
  </ul>
</details>
  
<details>
<summary><strong>캘린더에서 다음달 일정조회가 되지 않는 문제</strong></summary>
  <br/>
  <ul>
<li><strong>문제상황</strong>
<p>- 이번달 일정등록 후 문제없이 조회가 되는 것을 확인하고 다음달 일정을 등록하였으나 서버에는 업로드된 것을 확인하였고 뷰에서는 보여주지 못하는 문제가 발생하였습니다.
<li><strong>원인</strong>
<p>- 개발자도구를 통해 span 태그 내에 데이터가 동적으로 변화하는 것을 감지하고 변화에 따라 페이지가 렌더링될 수 있도록 코드를 작성하였다고 생각하였으나
    코드는 변화를 감지하지 못한채 처음 렌더링된 일정만을 보여주고 있었습니다.
<li><strong>해결방안</strong>
<p>- 해당월을 나타내주는 코드를 감지해서 새롭게 렌더링시켜주는 것이 필요하겠다 생각했습니다.
<p>- DOM의 변화를 감지해야했고 가장 적절해보이는 MutationObserver를 통해 span태그 내의 데이터 변화를 감지한 뒤 해당하는 월의 데이터를 조회할 수 있도록 하였습니다.
<li><strong>결과</strong>
        <p> -이전코드
            <br />
    <img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653832263586blob" />
    <br />
    <p> -이후코드
        <br />
    <img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653832268359blob" />
    <img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653832272332blob" />
    <br />
    <p> -결과페이지
    <img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653832342281blob" />
    <img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653832347064blob" />
    
<p>- 처음 렌더링되는 월에 대한 조회뿐만 아니라 화살표 클릭시 다음달 혹은 이전달의 일정데이터를 조회할 수 있게 되었습니다.
  </ul>
</details>

<details>
<summary><strong>이미지가 늦게 업로드되는 문제</strong></summary>
  <br/>
  <ul>
<li><strong>문제상황</strong>
<p>- 유저테스트 결과, 이미지 업로드가 너무 오래 걸려서 제대로 작동하지 않는 것 같다는 의견이 있었습니다.    
<li><strong>원인</strong>
<p>- 이미지 용량이 큰 경우, 업로드가 오래 걸리는 현상임을 확인했습니다.
<li><strong>해결방안</strong>
    <br/>
    <br/>
<img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653742820337blob" />
    <br/>
    <img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653743034190blob" />
    <img src="https://family-8.s3.ap-northeast-2.amazonaws.com/photo/1653742986577blob" />
    <br/>
    <p>- 이미지를 formdata로 변환하기 이전에 압축해서 서버로 전달하기로 결정했습니다.
<p>- 적합한 라이브러리를 찾던 중 browser-image-compression이라는 라이브러리를 사용하여 이미지를 압축할 수 있었습니다.
<p>- 유저가 이미지가 업로드되는 상황을 인지할 수 있도록 돕기 위해 사진추가버튼에 스피너를 적용하였습니다.    
<li><strong>결과</strong>
<p>- 이미지 업로드 속도가 개선되었고 유저가 이미지 업로드 되는 상황을 인지할 수 있게 되었습니다.
  </ul>
</details>
    
* * *

## 📋 Installation
### 프로젝트 실행을 위해 하단의 상세 설명을 참고해 주세요.

1. 프로젝트 클론

```console
$ git clone https://github.com/Jayteeee/Family_Project.git
```

2. 패키지 설치

```console
$ cd Family_Project
$ yarn install
```

3. 환경변수 설정

```text
// FAMILY_PROJECT 폴더 안에 .env 파일 생성 후 아래의 내용을 기입 후 저장해주세요.
REACT_APP_KAKAO_REST_API="카카오에서 받은 REST API Key"
REACT_APP_REDIRECT_URI="설정한 Redirect URI"
